<nav class="navbar">
  <div class="nav-container">
    <a href="{{ '/' | relative_url }}" class="nav-brand">{{ site.title }}</a>

    <div class="nav-links">
      <a href="{{ '/' | relative_url }}" class="nav-item {% if page.url == '/' %}active{% endif %}">Home</a>
      <a href="{{ '/papers/' | relative_url }}" class="nav-item {% if page.url contains 'papers' %}active{% endif %}">Papers</a>
      <a href="{{ '/talks/' | relative_url }}" class="nav-item {% if page.url contains 'talks' %}active{% endif %}">Talks</a>

      <div class="theme-switch-wrapper">
        <button id="theme-toggle" title="Theme">
          <span id="theme-icon">ğŸŒ“</span>
          <div id="theme-menu" class="theme-menu">
            <div class="theme-option" data-theme="light">â˜€ï¸ Light</div>
            <div class="theme-option" data-theme="dark">ğŸŒ™ Dark</div>
            <div class="theme-option" data-theme="auto">ğŸŒ“ Auto</div>
          </div>
        </button>
      </div>
    </div>
  </div>
</nav>

<style>
  /* å¯¼èˆªæ å›ºå®šåœ¨é¡¶éƒ¨ */
  .navbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: var(--nav-bg);
    backdrop-filter: blur(5px); /* ç£¨ç ‚ç»ç’ƒæ•ˆæœ */
    border-bottom: 1px solid var(--border-color);
    z-index: 1000; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
    padding: 12px 0;
    transition: background-color 0.3s, border-bottom 0.3s; /* å¹³æ»‘è¿‡æ¸¡ */
  }

  .nav-container {
    max-width: 800px; /* ä¸æ­£æ–‡å®½åº¦ä¿æŒä¸€è‡´ */
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    justify-content: space-between; /* å…³é”®ï¼šå·¦å³ä¸¤ç«¯å¯¹é½ */
    align-items: center;
  }

  /* å·¦ä¾§ Brand æ ·å¼ */
  .nav-brand {
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--nav-active);
    text-decoration: none;
  }

  /* å³ä¾§é“¾æ¥å®¹å™¨ */
  .nav-links {
    display: flex;
    gap: 20px;
    align-items: center; /* ç¡®ä¿åˆ‡æ¢æŒ‰é’®å‚ç›´å±…ä¸­ */
  }

  /* åŸºç¡€é€‰é¡¹å¡æ ·å¼ */
  .nav-item {
    color: var(--nav-text);
    text-decoration: none;
    font-weight: 500;
    padding: 5px 0;
    transition: 0.2s;
    font-size: 1rem;
    border-bottom: 2px solid transparent;
  }

  /* æ‚¬åœæ•ˆæœ */
  .nav-item:hover, .nav-item.active {
    color: var(--nav-active);
    text-decoration: none; /* å–æ¶ˆæ‚¬åœçš„ä¸‹åˆ’çº¿ */
    border-bottom: 2px solid var(--nav-active);
    /* ç»™æ·±è‰²æ¨¡å¼ä¸‹çš„è“çº¿åŠ ä¸€ç‚¹å¾®å¼±çš„å‘å…‰æ•ˆæœ */
  text-shadow: 0 0 10px rgba(128, 191, 255, 0.2);
  }

  /* å“åº”å¼é€‚é…ï¼šæ‰‹æœºç«¯ */
  @media (max-width: 600px) {
    .nav-container { flex-direction: column; gap: 10px; }
    .nav-links { gap: 12px; }
  }

  /* æŒ‰é’®åŠä¸‹æ‹‰èœå•åŸºç¡€æ ·å¼ */
  .theme-switch-wrapper { position: relative; display: flex; align-items: center; }
  
  #theme-toggle {
    background: none; 
    /* ä¿®æ”¹ç‚¹ï¼šè¾¹æ¡†éšä¸»é¢˜å˜åŒ– */
    border: 1px solid var(--border-color); 
    border-radius: 5px;
    cursor: pointer; 
    padding: 5px 8px; 
    font-size: 1rem; 
    color: var(--text-color);
  }

  .theme-menu {
    display: none; 
    position: absolute; 
    top: 100%; 
    right: 0;
    background: var(--bg-color); 
    /* ä¿®æ”¹ç‚¹ï¼šè¾¹æ¡†éšä¸»é¢˜å˜åŒ– */
    border: 1px solid var(--border-color); 
    box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
    border-radius: 5px; 
    z-index: 1001;
  }

  .theme-menu.show { display: block; }

  .theme-option {
    padding: 8px 15px; 
    cursor: pointer; 
    white-space: nowrap; 
    color: var(--text-color);
  }

  /* ä¿®æ”¹ç‚¹ï¼šæ‚¬åœæ—¶çš„èƒŒæ™¯ä¹Ÿè¦éšä¸»é¢˜å˜åŒ– */
  .theme-option:hover { 
    background: var(--border-color); 
    color: var(--nav-active); 
  }
</style>
